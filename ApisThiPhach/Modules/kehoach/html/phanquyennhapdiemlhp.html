<style>
    .checkbox-inline+.checkbox-inline,
    .radio-inline+.radio-inline {
        margin-left: 0px;
    }
</style>
<section class="content aps-thiphach">
    <div class="row aps-phanquyennhapdiemlhp">
        <div class="zone-bus" id="zonebatdau">
            <!--Box search-->
            <div class="box box-solid box-search pd20 pb0">
                <div class="box-body pd0">
                    <div class="group-title d-none">
                        <p class="titleSearchContent" data-toggle="collapse" data-target="#search">
                            <i class="fa fa-window-restore">
                            </i> <span class="lang" key="">Tìm kiếm</span>
                        </p>
                    </div>
                    <div class="area-search">
                        <div class="inputSearch">
                            <!-- Bộ tìm kiếm -->
                            <div class="col-sm-3 item-search">
                                <select id="dropSearch_ThoiGianDaoTao" class="select-opt" style="width:100% !important"
                                    multiple="multiple">
                                    <option id="" value=""> --Chọn thời gian-- </option>
                                </select>
                            </div>
                            <div class="col-sm-3 item-search">
                                <select id="dropSearch_HeDaoTao" class="select-opt" style="width:100% !important"
                                    multiple="multiple">
                                    <option id="" value=""> --Chọn hệ đào tạo-- </option>
                                </select>
                            </div>
                            <div class="col-sm-3 item-search">
                                <select id="dropSearch_KhoaDaoTao" class="select-opt" style="width:100% !important"
                                    multiple="multiple">
                                    <option id="" value=""> --Chọn khóa đào tạo-- </option>
                                </select>
                            </div>
                            <div class="col-sm-3 item-search">
                                <select id="dropSearch_KhoaQuanLy" class="select-opt" style="width:100% !important"
                                    multiple="multiple"></select>
                            </div>
                            <div class="col-sm-3 item-search">
                                <select id="dropSearch_ChuongTrinh" class="select-opt" style="width:100% !important"
                                    multiple="multiple">
                                    <option id="" value=""> --Chọn chương trình-- </option>
                                </select>
                            </div>
                            <div class="col-sm-3 item-search">
                                <select id="dropSearch_HocPhan" class="select-opt" style="width:100% !important"
                                    multiple="multiple"></select>
                            </div>
                            <div class="col-sm-3 item-search">
                                <select id="dropSearch_KeHoach" class="select-opt"
                                    style="width:100% !important"></select>
                            </div>
                            <div class="clear"></div>
                            <div class="col-sm-3 item-search  checkbox-inline user-check-print"
                                style="padding-left: 20px">
                                <input style="float: left" type="checkbox" id="dChuaPhanCong" />
                                <span class="line38"><b>Chỉ hiện các lớp chưa phân công</b></span>
                            </div>
                            <div class="col-sm-3 item-search">
                                <input id="txtSearch_TuSo" class="form-control" placeholder="Số đã đăng ký(từ số)" />
                            </div>

                            <div class="col-sm-3 item-search">
                                <input id="txtSearch_DenSo" class="form-control" placeholder="Số đã đăng ký(đến số)" />
                            </div>
                            <div class="col-sm-3 item-search-btn ">
                                <a id="btnSearch" class="btn btn-default btn-search"><i class="fa fa-search"></i> <span
                                        class="lang" key="">Tìm kiếm</span></a>
                                <div class="dropdown" id="zonebtnBaoCao_LopHocPhan">
                                </div>
                            </div>
                            <div class="clear"></div>
                            <div class="col-sm-12 item-search mt-20">
                                <div class="group-title pb0">
                                    <p class="titleSearchContent">
                                        <i class="fal fa-user-graduate"></i>
                                        <span class="lang bold" key="">Chọn trạng thái sinh viên</span>
                                    </p>
                                </div>
                                <div class="area-search mt-5">
                                    <div id="DSTrangThaiSV" style="padding-left: 20px" class="inputSearch collapse in">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clear"></div>
            <div class="box box-solid aps-phanquyennhapdiemlhp-list mt-10">
                <div class="box-header pl20 pr20">
                    <h3 class="box-title">
                        <i class="fa-light fa-list-timeline"></i> Danh sách
                        <span class="pull-right badge bg-light-blue">
                            <span id="lblLopHocPhan_Tong"></span>
                        </span>
                    </h3>
                    <div class="box-tools pull-right pr10">
                        <a id="btnPhanQuyen" class="btn btn-primary"><i class="far fa-sitemap"></i> <span class="lang"
                                key="">Phân quyền</span></a>
                    </div>
                </div>
                <div class="box-body pd20 pt15">
                    <div class="aps-table-select">
                        <table id="tblLopHocPhan" class="table table-hover table-bordered">
                            <thead>
                                <tr>
                                    <th class="td-center">Stt</th>
                                    <th class="td-center td-fixed">
                                        <input type="checkbox" id="chkSelectAll_LopHocPhan">
                                    </th>
                                    <th class="td-center">Mã lớp</th>
                                    <th class="td-center">Tên lớp</th>
                                    <th class="td-center">Thông tin lịch</th>
                                    <th class="td-center">Đã phân công</th>
                                    <th class="td-center">Số sv đã đăng ký</th>
                                    <th class="td-center">Số sv dự kiến</th>
                                    <th class="td-center">Lớp riêng</th>
                                    <th class="td-center">Quyền nhập điểm</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- load from js -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Thêm mới -->
        <div class="box box-solid zone-bus form-container" id="zoneEdit" style="display: none">
            <div class="box-header with-border">
                <h3 class="box-title"><span class="myModalLabel"><i class="fa fa-plus"></i> Thêm mới - </span> <span
                        class="lblTenDanhSach"></span></h3>
                <div class="pull-right">
                    <a class="btn btn-default btnClose" href="#" title="Close"><i class="fa fa-times"></i></a>
                </div>
            </div>
            <div class="box-body">
                <div class="aps-add-new row pd20">
                    <!-- 1. Thông tin lớp học phần cần dồn -->
                    <div class="col-sm-6 col-lg-6 aps-form pr20">
                        <div class="row aps-lable text-left">
                            <p class="group-group-title-name border-0 mb-0">
                                <span class="badge bg-blue">Thông tin lớp học phần cần dồn</span>
                            </p>
                        </div>
                        <div class="row aps-table-select">
                            <table id="tblSinhVien" class="table table-hover table-bordered tblSinhVien">
                                <thead>
                                    <tr>
                                        <th class="td-fixed td-center">Stt</th>
                                        <th class="td-center">Mã số</th>
                                        <th class="td-center">Họ tên</th>
                                        <th class="td-center">Lớp</th>
                                        <th class="td-center">Ngành</th>
                                        <th class="td-center">Khóa</th>
                                        <th class="td-center">Thời gian đăng ký</th>
                                        <th class="td-center">Số dự kiến</th>
                                        <!--<th class="td-center">Kết quả</th>-->
                                        <th class="td-center"><input type="checkbox" id="chkSelectAll_SinhVien">
                                        </th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                            <div class="box-tools pull-right">
                                <a class="btn btn-danger" id="btnDeleteLopHocPhan" href="#">
                                    <i class="fa fa-trash"></i>Xóa</a>
                            </div>
                        </div>
                    </div>
                    <!-- 2. Chọn lớp cuối -->
                    <div class="col-sm-6 col-lg-6  pl20">
                        <div class="row aps-form">
                            <div class="col-sm-12 col-lg-12 aps-lable text-left">
                                <p class="group-group-title-name border-0 mb-0">
                                    <span class="badge bg-blue">Chọn lớp cuối</span>
                                </p>
                            </div>
                            <div class="col-sm-12 col-lg-12 aps-form-input">
                                <select id="dropLopCuoi" class="select-opt" style="width:100% !important">
                                    <option id="" value=""> --Chọn lớp cuối-- </option>
                                </select>
                            </div>
                        </div>
                        <div class="row aps-form mt-20">
                            <div class="col-sm-12 col-lg-12  aps-lable text-left ">
                                <p class="group-group-title-name border-0 mb-0">
                                    <span class="badge bg-blue">Thông tin lớp học phần cần dồn</span>
                                </p>
                            </div>
                            <div class="col-sm-12 col-lg-12 aps-form-table">
                                <table id="tblSinhVienKQ" class="table table-hover table-bordered tblSinhVienKQ mb-0">
                                    <thead>
                                        <tr>
                                            <th class="td-fixed td-center">Stt</th>
                                            <th class="td-center">Mã số</th>
                                            <th class="td-center">Họ tên</th>
                                            <th class="td-center">Lớp</th>
                                            <th class="td-center">Ngành</th>
                                            <th class="td-center">Khóa</th>
                                            <th class="td-center">Thời gian đăng ký</th>
                                            <!--<th class="td-center"><input type="checkbox" id="chkSelectAll_SinhVienKQ"></th>-->
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box-footer">
                <div class="pull-right">
                    <a class="btn btn-default btnClose" href="#" title="Close">
                        <i class="fa fa-times-circle"></i> Đóng</a>
                    <a id="btnSave_LopHocPhan" class="btn btn-primary">
                        <i class="fa-solid fa-screen-users"></i> Dồn lớp</a>
                </div>
            </div>
        </div>

        <!-- Phân quyền -->
        <div class="box box-solid zone-bus form-container" id="zonePhanQuyen" style="display: none">
            <div class="box-header with-border">
                <h3 class="box-title"><span class="myModalLabel2"><i class="fa fa-plus"></i></span> Phân quyền</h3>
                <div class="pull-right">
                    <a class="btn btn-default btnClose" href="#" title="Close"><i class="fa fa-times"></i></a>
                </div>
            </div>
            <div class="box-body pd20">
                <div class="col-sm-12 aps-add-new">
                    <!-- 1. Quyền cần phân -->
                    <div class="row aps-form">
                        <div class="col-sm-12 col-lg-12 aps-lable text-left">
                            <p class="group-group-title-name border-0 mb-0">
                                <span class="badge bg-blue mb-0"> Quyền cần phân</span>
                            </p>
                        </div>
                        <div class="col-sm-12 col-lg-12 aps-form-input mb-20">
                            <select id="dropHanhDongPhanQuyen" class="select-opt" multiple="multiple"></select>
                        </div>
                    </div>

                    <div class="col-sm-6 col-lg-6 aps-form pr20 mt-20" style="display: block">
                        <div class="row aps-lable text-left">
                            <p class="group-group-title-name border-0 mb-0">
                                <span class="badge bg-blue">Danh sách</span>
                            </p>
                        </div>
                        <div class="row">
                            <div class="aps-table-select">
                                <table id="tblSanPhamPhanQuyen"
                                    class="table table-hover table-bordered tblSanPhamPhanQuyen">
                                    <thead>
                                        <tr>
                                            <td class="td-fixed td-center">Stt</td>
                                            <td class="td-center">Tên túi</td>
                                            <td class="td-center">Đợt phách</td>
                                            <td class="td-center td-fixed"><input type="checkbox"
                                                    class="chkSystemSelectAll" /></td>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                    <div class="col-sm-6 col-lg-6 aps-form pl20 mt-20">
                        <div class="row aps-lable text-left">
                            <p class="group-group-title-name border-0 mb-0">
                                <span class="badge bg-blue">Danh sách</span>
                            </p>
                            <div class="row">
                                <select id="dropDonViPhanQuyen" class="select-opt" style="min-width: 440px"></select>
                                <!--<input id="txtSearchNhanSuPhanQuyen" class="form-control" placeholder="Nhập từ khóa tìm kiếm" />-->
                            </div>
                        </div>
                        <div class="row">
                            <div class="aps-table-select">
                                <table id="tblNhanSuPhanQuyen"
                                    class="table table-hover table-bordered tblNhanSuPhanQuyen mb-0">
                                    <thead>
                                        <tr>
                                            <td class="td-fixed td-center">Stt</td>
                                            <td class="td-left">Mã số</td>
                                            <td class="td-left">Họ tên</td>
                                            <td class="td-left">Đơn vị</td>
                                            <td class="td-center td-fixed"><input type="checkbox"
                                                    class="chkSystemSelectAll" /></td>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box-footer">
                <div class="pull-right">
                    <a class="btn btn-default btnClose" href="#" title="Close"><i
                            class="fa fa-times-circle"></i>Đóng</a>
                    <a id="btnSave_PhanQuyen" class="btn btn-primary"><i class="fa-solid fa-floppy-disk"></i> Lưu</a>
                </div>
            </div>
        </div>

        <!-- Danh sách phân quyền -->
        <div class="box box-solid zone-bus form-container" id="zoneDSPhanQuyen" style="display: none">
            <div class="box-header with-border">
                <h3 class="box-title"><span class="myModalLabel2"><i class="fa fa-plus"></i></span>Danh sách phân quyền
                </h3>
                <div class="pull-right">
                    <a class="btn btn-default btnClose" href="#" title="Close"><i class="fa fa-times"></i></a>
                </div>
            </div>
            <div class="box-body">
                <div class="row aps-dsPhanQuyen pd20 pb10">
                    <div class="row d-none">
                        <p class="group-title-name">
                            <span class="badge bg-blue">Danh sách</span>
                        </p>
                    </div>
                    <div class="row aps-table-select">
                        <table id="tblDuLieuPhanQuyen" class="table table-hover table-bordered tblDuLieuPhanQuyen mb-0">
                            <thead>
                                <tr>
                                    <td class="td-fixed td-center">Stt</td>
                                    <td class="td-center">Mã lớp học phần</td>
                                    <td class="td-center">Tên lớp học phần</td>
                                    <td class="td-center">Người dùng</td>
                                    <td class="td-center">Hành động</td>
                                    <td class="td-center td-fixed"><input type="checkbox" class="chkSystemSelectAll" />
                                    </td>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <div class="row">
                        <div class="pull-left">
                            <div class="group-title-name">
                            </div>
                        </div>
                        <!--<div class="pull-right">
                            <div class="group-title-name">                               
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>
            <div class="box-footer">
                <div class="pull-right ">
                    <a class="btn btn-default btnClose" href="#" title="Close"><i class="fa fa-times-circle"></i>
                        Đóng</a>
                    <a class="btn btn-danger btnDeleteDuLieuPhanQuyen" id=""><i class="fa fa-trash"></i>
                        Xóa</a>
                    <a class="btn btn-success btnSearchHocPhan" id=""><i class="fa fa-plus"></i> Thêm</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Danh sách sinh viên -->
<div class="modal fade" id="myModal" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="width: 95%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title"><span class="myModalLabel1">Danh sách sinh viên</span> </h4>
            </div>
            <div class="modal-body" id="modal_body">
                <div class="row aps-table-select pd20">
                    <table id="tblQuanSoLop" class="table table-hover table-bordered tblQuanSoLop">
                        <thead>
                            <tr>
                                <th class="td-fixed">Stt</th>
                                <th class="td-center"><span class="lang" key="">Mã số</span></th>
                                <th class="td-center"><span class="lang" key="">Họ tên</span></th>
                                <th class="td-center"><span class="lang" key="">Ngày sinh</span></th>
                                <th class="td-center"><span class="lang" key="">Tình trạng</span></th>
                                <th class="td-center"><span class="lang" key="">Lớp học</span></th>
                                <th class="td-center"><span class="lang" key="">Chương trình học</span></th>
                                <th class="td-center"><span class="lang" key="">Khóa học</span></th>
                                <th class="td-center"><span class="lang" key="">Khoa quản lý</span></th>
                                <th class="td-center"><span class="lang" key="">Hệ đào tạo</span></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div id="notify"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <i class="fa fa-times-circle-o"></i><span class="lang" key="">Đóng</span></button>
                <a id="btnDelete_LopHocPhan" class="btn btn-danger"><i class="fa fa eraser"></i> Xóa</a>
            </div>
        </div>
    </div>
</div>

<!-- Danh sách phạm vi -->
<div class="modal fade" id="myModalPhamVi" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="width: 95%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title"><span class="myModalLabel1">Danh sách phạm vi</span> </h4>
            </div>
            <div class="modal-body" id="modal_body">
                <div class="row aps-table-select pd20">
                    <table id="tblPhamVi" class="table table-hover table-bordered tblPhamVi">
                        <thead>
                            <tr>
                                <th class="td-fixed">Stt</th>
                                <th class="td-center"><span class="lang" key="">Phạm vi</span></th>
                                <th class="td-center"><span class="lang" key="">Phân cấp</span></th>
                                <th class="td-center td-fixed"><input type="checkbox" id="chkSelectAll_PhamVi"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div id="notify"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <i class="fa fa-times-circle-o"></i><span class="lang" key="">Đóng</span></button>
                <a id="btnDelete_PhamVi" class="btn btn-danger"><i class="fa fa eraser"></i> Xóa</a>
            </div>
        </div>
    </div>
</div>

<!-- page script -->
<script src="modules/kehoach/script/phanquyenlophocphan.js?v=1.0.0.0"></script>
<script type="text/javascript">
    var main_doc = {};
    main_doc['LopHocPhan'] = new LopHocPhan();
    $(document).ready(function () {
        main_doc.LopHocPhan.init();
    });
</script>